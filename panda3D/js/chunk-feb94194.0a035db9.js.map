{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/ThreeAPI.vue?f75d","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./src/views/ThreeAPI.vue?dc7c","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/three/examples/jsm/loaders/FontLoader.js","webpack:///./node_modules/three/examples/jsm/geometries/TextGeometry.js","webpack:///./src/assets/utils/animations.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///src/views/ThreeAPI.vue","webpack:///./src/views/ThreeAPI.vue?a53d","webpack:///./src/views/ThreeAPI.vue","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/three/examples/jsm/libs/tween.module.min.js"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","runtime","Op","Object","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","fails","METHOD_NAME","argument","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","f","FunctionPrototype","functionToString","toString","nameRE","regExpExec","exec","NAME","get","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","getOwnPropertyDescriptors","descriptor","O","getOwnPropertyDescriptor","index","render","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","apply","_defineProperty","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","source","defineProperties","manager","super","url","onLoad","onProgress","onError","scope","loader","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","text","json","JSON","parse","e","console","warn","substring","font","Font","data","size","shapes","paths","createPaths","p","pl","Array","toShapes","chars","from","scale","resolution","line_height","boundingBox","yMax","yMin","underlineThickness","offsetX","offsetY","char","ret","createPath","glyph","glyphs","familyName","x","y","cpx","cpy","cpx1","cpy1","cpx2","cpy2","o","outline","_cachedOutline","split","l","action","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","ha","isFont","parameters","generateShapes","depth","height","bevelThickness","bevelSize","bevelEnabled","Animations","animateCamera","camera","controls","newP","newT","time","callBack","tween","TWEEN","Tween","x1","position","y1","z1","z","x2","y2","z2","to","onUpdate","update","onComplete","enabled","easing","Easing","Cubic","InOut","start","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMeshoptCompression","resourcePath","extractUrlBase","itemStart","_onError","itemError","itemEnd","setResponseType","gltf","callback","indexOf","splice","content","extensions","plugins","magic","decodeText","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","asset","version","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","objects","add","remove","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","cache","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","lightIndex","cacheKey","dependency","lightDefs","lights","lightDef","lightNode","color","fromArray","range","set","distance","spot","innerConeAngle","outerConeAngle","Math","PI","angle","penumbra","decay","intensity","createUniqueName","_loadLight","_getNodeRef","materialParams","materialDef","pending","opacity","metallicRoughness","pbrMetallicRoughness","isArray","baseColorFactor","array","baseColorTexture","assignTexture","all","materialIndex","materials","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","texture","encoding","textureIndex","textureDef","textures","options","loadTextureImage","isSupported","images","textureLoader","uri","handler","getHandler","detectSupport","loadTexture","image","Image","src","onload","onerror","bufferView","bufferViews","extensionDef","buffer","getDependency","decoder","supported","ready","res","byteOffset","byteLength","count","stride","byteStride","ArrayBuffer","decodeGltfBuffer","mode","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","body","headerView","DataView","header","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","attributes","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","geometry","attribute","transform","texCoord","offset","rotation","clone","repeat","needsUpdate","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","uniforms","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","fragmentShader","replace","v","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","copy","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","material","fog","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","parameterPositions","sampleValues","sampleSize","resultBuffer","valueSize","beforeStart_","copySampleValue_","afterEnd_","interpolate_","i1","t0","t","t1","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","_q","GLTFCubicSplineQuaternionInterpolant","normalize","toArray","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","5120","Int8Array","5121","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","Float32Array","WEBGL_FILTERS","9728","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","transparent","depthTest","side","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","assign","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","hasMorphColor","il","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","normal","morphPositions","morphNormals","morphColors","morphAttributes","morphTargetsRelative","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","indices","createAttributesKey","attributesKey","sort","getNormalizedComponentScale","getImageURIMimeType","search","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","createImageBitmap","test","navigator","userAgent","setCrossOrigin","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scene","scenes","animations","cameras","afterRoot","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","ref","updateMappings","original","mappings","child","children","entries","func","unshift","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","resolveURL","bufferViewDef","accessorIndex","sparse","pendingBufferViews","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","bufferAttribute","ibSlice","floor","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sourceIndex","sourceDef","sampler","promise","loadImageSource","flipY","samplers","magFilter","minFilter","wrapS","wrapT","URL","webkitURL","sourceURI","isObjectURL","blob","Blob","mimeType","createObjectURL","isImageBitmapLoader","imageBitmap","revokeObjectURL","mapName","mapDef","gltfReference","extendTexture","useDerivativeTangents","tangent","useVertexColors","useFlatShading","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","lineMaterial","cachedMaterial","vertexColors","flatShading","uv2","uv","setAttribute","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","doubleSided","alphaMode","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","sheenColorMap","specularColorMap","originalName","sanitizedName","sanitizeNodeName","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","cached","geometryPromise","meshIndex","loadGeometries","results","geometries","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","assignFinalMaterial","group","cameraIndex","cameraDef","radToDeg","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","targetName","interpolation","traverse","outputArray","scaled","j","jl","track","createInterpolant","interpolantType","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","isMesh","nodeName","meshPromise","createNodeMesh","createNodeAttachment","matrix","applyMatrix4","quaternion","has","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","reduceAssociations","reducedAssociations","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","matrixWorld","computeBounds","box","min","max","boxScale","multiplyScalar","maxDisplacement","vector","abs","expandByVector","sphere","getCenter","center","radius","distanceTo","boundingSphere","assignAttributeAccessor","gltfAttributeName","setIndex","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","getX","newGeometry","statsObj","threeObj","renderer","loadingProcessTimeout","loadingProcess","circleR","created","mounted","initThree","controlsWebGL","threeWebGLMain","stats","methods","Stats","document","dirLight","createSphere","sphereGeometry","R","longitude","latitude","sphereMaterial","wireframe","createSphereMore","circleTrack","degree","r","hudu","x0","sin","y0","cos","sphereMain","sphereArr","createFont","createText","geom","curveSegments","bevelSegments","loadModel3D","that","clearTimeout","GLTFload","window","contain","threeCube","cube","threeLine","points","line","model3D","ambientLight","animation","shDegree","item","component","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","it","_Group","_tweens","_tweensAddedDuringUpdate","getAll","getId","n","now","_isPlaying","Group","_nextId","nextId","process","hrtime","performance","Date","getTime","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","duration","parseFloat","concat","stopChainedTweens","end","delay","repeatDelay","yoyo","chain","onStart","onStop","a","isFinite","s","u","Quadratic","In","Out","Quartic","Quintic","Sinusoidal","Exponential","pow","Circular","sqrt","Elastic","Back","Bounce","Utils","Bezier","Bernstein","CatmullRom","Factorial"],"mappings":"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","file":"js/chunk-feb94194.0a035db9.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeAPI.vue?vue&type=style&index=0&id=d2cd067c&lang=scss&scoped=true&\"","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"canvas-frame\"}})])}]\n\nexport { render, staticRenderFns }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import {\n\tFileLoader,\n\tLoader,\n\tShapePath\n} from 'three';\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\n//\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nexport { FontLoader, Font };\n","/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nimport {\n\tExtrudeGeometry\n} from 'three';\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( font === undefined ) {\n\n\t\t\tsuper(); // generate default extrude geometry\n\n\t\t} else {\n\n\t\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t\t// translate parameters to ExtrudeGeometry API\n\n\t\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t\t// defaults\n\n\t\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\t\tsuper( shapes, parameters );\n\n\t\t}\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\n\nexport { TextGeometry };\n","import { TWEEN } from \"three/examples/jsm/libs/tween.module.min.js\";\r\n\r\nconst Animations = {\r\n  //相机移动实现漫游等动画\r\n  animateCamera: (camera, controls, newP, newT, time = 2000, callBack) => {\r\n    var tween = new TWEEN.Tween({\r\n      x1: camera.position.x, // 相机x\r\n      y1: camera.position.y, // 相机y\r\n      z1: camera.position.z, // 相机z\r\n      x2: controls.target.x, // 控制点的中心点x\r\n      y2: controls.target.y, // 控制点的中心点y\r\n      z2: controls.target.z, // 控制点的中心点z\r\n    });\r\n    tween.to({\r\n        x1: newP.x,\r\n        y1: newP.y,\r\n        z1: newP.z,\r\n        x2: newT.x,\r\n        y2: newT.y,\r\n        z2: newT.z,\r\n      },\r\n      time\r\n    );\r\n    tween.onUpdate(function (object) {\r\n      camera.position.x = object.x1;\r\n      camera.position.y = object.y1;\r\n      camera.position.z = object.z1;\r\n      controls.target.x = object.x2;\r\n      controls.target.y = object.y2;\r\n      controls.target.z = object.z2;\r\n      controls.update();\r\n    });\r\n    tween.onComplete(function () {\r\n      controls.enabled = true;\r\n      callBack();\r\n    });\r\n    tween.easing(TWEEN.Easing.Cubic.InOut);\r\n    tween.start();\r\n  },\r\n}\r\nexport default Animations;","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenColor.fromArray( extension.sheenColorFactor );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture ).then( function ( texture ) {\n\n\t\t\t\ttexture.encoding = sRGBEncoding;\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.roughness += geometryRoughness;',\n\t\t\t'material.roughness = min( material.roughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = 1.0;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\tmaterial.refractionRatio = 0.98;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tconst result = this.resultBuffer;\n\tconst values = this.sampleValues;\n\tconst stride = this.valueSize;\n\n\tconst stride2 = stride * 2;\n\tconst stride3 = stride * 3;\n\n\tconst td = t1 - t0;\n\n\tconst p = ( t - t0 ) / td;\n\tconst pp = p * p;\n\tconst ppp = pp * p;\n\n\tconst offset1 = i1 * stride3;\n\tconst offset0 = offset1 - stride3;\n\n\tconst s2 = - 2 * ppp + 3 * pp;\n\tconst s3 = ppp - pp;\n\tconst s0 = 1 - s2;\n\tconst s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\n\treturn 'image/png';\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox|^((?!chrome|android).)*safari/i.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( function ( texture ) {\n\n\t\t\t\treturn texture.clone();\n\n\t\t\t} ).catch( function ( error ) {\n\n\t\t\t\tthrow error;\n\n\t\t\t} );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, sheenColorMap, specularColorMap and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\t\t\tif ( material.sheenColorMap ) material.sheenColorMap.encoding = sRGBEncoding;\n\t\t\tif ( material.specularColorMap ) material.specularColorMap.encoding = sRGBEncoding;\n\t\t\tif ( material.specularMap ) material.specularMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\t\t\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierarchy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierarchy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierarchy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","<template>\r\n  <div>\r\n    <div id=\"canvas-frame\"></div>\r\n    <!-- <div id=\"info\">Description</div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\n// 控制器\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n// 加载文本\r\nimport { FontLoader } from \"three/examples/jsm/loaders/FontLoader.js\";\r\n// 文本创建\r\nimport { TextGeometry } from \"three/examples/jsm/geometries/TextGeometry.js\";\r\n//\r\nimport Animations from \"@/assets/utils/animations\";\r\n// 性能监视器\r\nimport Stats from \"@/assets/js/Stats.js\";\r\n//GLTFLoader---加载3D模型\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\n// import fontPath from \"three/examples/fonts/helvetiker_bold.typeface.json\";\r\n// import fontPath from \"three/examples/fonts/optimer_bold.typeface.json\";\r\nimport fontPath from \"@/assets/fonts/FZShuTi_Regular.json\";\r\nimport skyTexture from \"@/assets/image/sky.jpg\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      statsObj: null,\r\n      threeObj: {\r\n        scene: null,\r\n        camera: null,\r\n        renderer: null,\r\n        controls: null,\r\n      },\r\n      meshes: [],\r\n      loadingProcessTimeout: null,\r\n      loadingProcess: null,\r\n      circleR: 5\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    let that = this;\r\n    this.initThree();\r\n    this.controlsWebGL();\r\n    this.threeWebGLMain();\r\n\r\n    this.statsObj = this.stats();\r\n  },\r\n  methods: {\r\n    // 性能监视器\r\n    stats() {\r\n      var stats = new Stats();\r\n      stats.setMode(1); // 0: fps, 1: ms\r\n      // 将stats的界面对应左上角\r\n      stats.domElement.style.position = \"absolute\";\r\n      stats.domElement.style.left = \"0px\";\r\n      stats.domElement.style.top = \"0px\";\r\n      document.body.appendChild(stats.domElement);\r\n      return stats;\r\n    },\r\n    // 控制器\r\n    controlsWebGL() {\r\n      let { scene, camera, renderer } = this.threeObj;\r\n      // 控制器\r\n      let controls = new OrbitControls(camera, renderer.domElement);\r\n      console.log(controls, \"controls---\");\r\n      controls.target.set(0, 0, 0);\r\n      controls.enableDamping = true;\r\n      //   右键 可拖动\r\n      controls.enablePan = true;\r\n      // 缩放\r\n      controls.enableZoom = true;\r\n      // 垂直旋转角度限制\r\n      controls.minPolarAngle = -100.4;\r\n      controls.maxPolarAngle = 100.8;\r\n      // 水平旋转角度限制\r\n      controls.minAzimuthAngle = -100.9;\r\n      controls.maxAzimuthAngle = 100.9;\r\n      this.threeObj = { ...this.threeObj, controls };\r\n    },\r\n    dirLight() {\r\n      let color = 0xffffff;\r\n      let light = new THREE.DirectionalLight(color, 0.8);\r\n      // light.intensity = 0.8;//光的强度\r\n      // console.log(light, \"light---------\");\r\n      //   light.position.set(0, 10, 0);\r\n      light.castShadow = true;\r\n      //   light.target = cube;\r\n      //   light.shadow.mapSize.width = 512 * 12;\r\n      //   light.shadow.mapSize.height = 512 * 12;\r\n      // light.shadow.camera.top = 400;\r\n      //   light.shadow.camera.bottom = -40;\r\n      //   light.shadow.camera.left = -400;\r\n      //   light.shadow.camera.right = 40;\r\n      return light;\r\n    },\r\n    // 创建球体\r\n    createSphere() {\r\n      // 参数1:半径  , 参数2（默认8） /3（默认6）: 经纬度\r\n      let R = 8;\r\n      let longitude = 20; //经度\r\n      let latitude = 20; //纬度\r\n\r\n      var sphereGeometry = new THREE.SphereGeometry(R, longitude, latitude);\r\n      var sphereMaterial = new THREE.MeshBasicMaterial({\r\n        color: 0x7777ff,\r\n        // color: 0x000000,\r\n        opacity: 0.5,\r\n        wireframe: true,\r\n      });\r\n      console.log(sphereMaterial, \"sphereMaterial-----\");\r\n      sphereMaterial.intensity = 0.5;\r\n      var sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n\r\n      sphere.castShadow = true;\r\n      return sphere;\r\n    },\r\n\r\n    // 创建多个球体\r\n    createSphereMore(R, longitude, latitude) {\r\n      // 参数1:半径  , 参数2（默认8） /3（默认6）: 经纬度\r\n      var sphereGeometry = new THREE.SphereGeometry(R, longitude, latitude);\r\n      var sphereMaterial = new THREE.MeshBasicMaterial({\r\n        // color: 0x7777ff,\r\n        color: 0xf0f000,\r\n        opacity: 0.5,\r\n        // wireframe: true,\r\n      });\r\n      console.log(sphereMaterial, \"sphereMaterial-----\");\r\n      sphereMaterial.intensity = 0.5;\r\n      var sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n\r\n      sphere.castShadow = true;\r\n      return sphere;\r\n    },\r\n    // 圆的轨迹\r\n    /**\r\n     * @degree 度数\r\n     * @r 运动轨迹半径\r\n     * */ \r\n    circleTrack(degree, r, x0=0, y0=0) {\r\n      var hudu = ((2 * Math.PI) / 360) * degree;\r\n      var x1 = x0 + Math.sin(hudu) * r;\r\n      var y1 = y0 - Math.cos(hudu) * r;\r\n      return {x:x1,y:y1 - 2};\r\n    },\r\n    // 创建多个 球体的 函数\r\n    sphereMain() {\r\n      let that = this;\r\n      let { scene } = this.threeObj;\r\n      let x0 = 0,\r\n        y0 = 0;\r\n      let sphereArr = [];\r\n      for (let degree = 0; degree < 360; degree += 30) {\r\n        let sphere = this.createSphereMore(1, 20, 20);\r\n        (function (degree, sphere) {\r\n          let {x, y} = that.circleTrack(degree, that.circleR);\r\n          sphere.position.set(x, y, -8);\r\n          // let z = y;\r\n          // sphere.position.set(x, 0, z);\r\n          sphere.degree = degree;\r\n          // scene.add(sphere);\r\n          sphereArr.push(sphere);\r\n        })(degree, sphere);\r\n      }\r\n      return sphereArr;\r\n      // scene.add(sphere);\r\n    },\r\n    // 创建文本\r\n    async createFont() {\r\n      function createText(geom) {\r\n        console.log(geom, \"geom-----geom\");\r\n        geom.computeBoundingBox();\r\n        var materials = [\r\n          // 文字材料\r\n          new THREE.MeshBasicMaterial({\r\n            // color: Math.random() * 0xffffff,\r\n            // color: 0xf2f8f7,\r\n            color: 0x000000,\r\n          }),\r\n          //   背景材料\r\n          new THREE.MeshBasicMaterial({\r\n            color: 0xffffff,\r\n          }),\r\n        ];\r\n        var mesh = new THREE.Mesh(geom, materials);\r\n        return mesh;\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        //   const fontPath = request(url);\r\n        let fontLoad = new FontLoader();\r\n        let font = fontLoad.parse(fontPath);\r\n        console.log(font, \"font---\");\r\n        let talk = \"\";\r\n        // talk =    `哈喽 俺是冰墩墩 \\n俺有潘多拉魔盒 \\n帅不 哈哈哈 \\n不说了 晚安！`;\r\n        var text = createText(\r\n          new TextGeometry(talk, {\r\n            font: font,\r\n            size: 1, //字体大小\r\n            height: 0.2, //字体厚度\r\n            curveSegments: 2,\r\n            // bevelEnabled: true,// 可设置 边缘斜截角\r\n            bevelThickness: 0.5,\r\n            bevelSize: 0.01, //边缘化 border-radius --- 倒模\r\n            bevelSegments: 1,\r\n          })\r\n        );\r\n        resolve(text);\r\n      });\r\n    },\r\n    // 加载3D模型\r\n    loadModel3D() {\r\n      let that = this;\r\n      let { scene, camera, controls } = this.threeObj;\r\n      const manager = new THREE.LoadingManager();\r\n      manager.onStart = (url, loaded, total) => {};\r\n      manager.onLoad = () => {\r\n        console.log(\"Loading complete!\");\r\n      };\r\n      manager.onProgress = async (url, loaded, total) => {\r\n        if (Math.floor((loaded / total) * 100) === 100) {\r\n          that.loadingProcessTimeout &&\r\n            clearTimeout(that.loadingProcessTimeout);\r\n          that.loadingProcessTimeout = setTimeout(() => {\r\n            // that.setState({ loadingProcess: Math.floor(loaded / total * 100) });\r\n            that.loadingProcess = Math.floor((loaded / total) * 100);\r\n            Animations.animateCamera(\r\n              camera,\r\n              controls,\r\n              { x: 0, y: -1, z: 20 },\r\n              { x: 0, y: 0, z: 0 },\r\n              3600,\r\n              () => {}\r\n            );\r\n          }, 800);\r\n        } else {\r\n          //   that.setState({ loadingProcess: Math.floor(loaded / total * 100) });\r\n          that.loadingProcess = Math.floor((loaded / total) * 100);\r\n        }\r\n      };\r\n      return new Promise((resolve, reject) => {\r\n        let GLTFload = new GLTFLoader(manager);\r\n        // let model = GLTFload.parse(modelPanda);\r\n        // console.log(model, \"model----\")\r\n        GLTFload.load(\r\n          \"/models/bingdundun.glb\", //模型路径\r\n          function (mesh) {\r\n            console.log(mesh.scene, \"gltf.scene\");\r\n            // resolve(gltf.scene);\r\n            // let { meshes } = that;\r\n            mesh.scene.traverse(function (child) {\r\n              if (child.isMesh) {\r\n                console.log(child, \"child----\");\r\n                that.meshes.push(child);\r\n                if (child.name === \"oldtiger001\") {\r\n                  child.material.metalness = 0.5;\r\n                  child.material.roughness = 0.8;\r\n                }\r\n                if (child.name === \"oldtiger002\") {\r\n                  child.material.transparent = true;\r\n                  child.material.opacity = 0.5;\r\n                  child.material.metalness = 0.2;\r\n                  child.material.roughness = 0;\r\n                  child.material.refractionRatio = 1;\r\n                  child.castShadow = true;\r\n                }\r\n              }\r\n            });\r\n            // mesh.scene.rotation.y = Math.PI / 24;\r\n            // mesh.scene.rotation.y = Math.PI / 12;\r\n            // mesh.scene.position.set(-8, -12, 0);\r\n            mesh.scene.position.set(0, -5, 3);\r\n            mesh.scene.scale.set(24, 24, 24);\r\n            // scene.add(mesh.scene);\r\n\r\n            resolve(mesh.scene);\r\n            // scene.add(gltf.scene);\r\n          },\r\n          function (error) {\r\n            // console.error(error);\r\n          }\r\n        );\r\n      });\r\n    },\r\n    // 初始化 相机 场景\r\n    initThree() {\r\n      let { scene, camera, renderer } = this.threeObj;\r\n      scene = new THREE.Scene();\r\n      camera = new THREE.PerspectiveCamera(\r\n        95,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        1000\r\n      );\r\n      //   camera.position.set(0, 0, 100);\r\n      renderer = new THREE.WebGLRenderer();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      scene.background = new THREE.TextureLoader().load(skyTexture);\r\n      //   创建容器\r\n      let contain = document.getElementById(\"canvas-frame\");\r\n      contain.appendChild(renderer.domElement);\r\n      this.threeObj = {\r\n        scene,\r\n        camera,\r\n        renderer,\r\n      };\r\n    },\r\n    // 创建正方体\r\n    threeCube() {\r\n      const geometry = new THREE.BoxGeometry();\r\n      //   const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\r\n      const material = new THREE.MeshNormalMaterial();\r\n      // const material = new THREE.MeshLambertMaterial({\r\n      //   // wireframe: true,\r\n      //   color: 0xf0f000,\r\n      // });\r\n\r\n      const cube = new THREE.Mesh(geometry, material);\r\n      cube.position.y = -1;\r\n      return cube;\r\n    },\r\n    // 创建线条\r\n    threeLine() {\r\n      const material = new THREE.LineBasicMaterial({ color: 0x0000ff });\r\n      const points = [];\r\n      points.push(new THREE.Vector3(-1, 0, 0));\r\n      points.push(new THREE.Vector3(0, 1, 0));\r\n      points.push(new THREE.Vector3(1, 0, 0));\r\n      const geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n      const line = new THREE.Line(geometry, material);\r\n      return line;\r\n    },\r\n    threeWebGLMain() {\r\n      let that = this;\r\n      // 基本位置坐标\r\n      let pos = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n      };\r\n      // 圆的运动速度基本值\r\n      let shDegree = 0;\r\n      let { scene, camera, renderer } = this.threeObj;\r\n      // 创建 几何体\r\n      const cube = this.threeCube();\r\n      cube.position.set(pos.x + 4, pos.y + 0.2, pos.z - 5);\r\n      scene.add(cube);\r\n      // 球体\r\n      let sphere = this.createSphere();\r\n      sphere.position.set(pos.x, pos.y - 4, pos.z - 5);\r\n      // scene.add(sphere);\r\n      // 多个球\r\n      let sphereArr = this.sphereMain();\r\n      sphereArr.forEach((item) => {\r\n        // console.log(item, \"degree\")\r\n        scene.add(item);\r\n      });\r\n      // 创建 文本字体\r\n      this.createFont().then((text) => {\r\n        text.position.set(pos.x - 4, pos.y + 7, pos.z - 5);\r\n        scene.add(text);\r\n      });\r\n      // 加载3D模型\r\n      this.loadModel3D().then((model3D) => {\r\n        model3D.position.set(pos.x, pos.y - 10, pos.z - 5);\r\n        scene.add(model3D);\r\n      });\r\n      // #region\r\n      // let lit = 5000;\r\n      // let dirLightArr = [\r\n      //     {x:0, y:0, z:lit},\r\n      //     {x:0, y:0, z:-lit},\r\n      //     {x:0, y:lit, z:0},\r\n      //     {x:0, y:-lit, z:0},\r\n      //     {x:lit, y:0, z:0},\r\n      //     {x:-lit, y:0, z:0},\r\n      // ]\r\n      // // 设置方向光源\r\n      // dirLightArr.forEach((item,index)=>{\r\n      //   var dirLight = this.dirLight();\r\n      //   dirLight.position.set(item.x, item.y, item.z);\r\n      //   // scene.add(dirLight);\r\n      // })\r\n      // #regionend\r\n      // 环境光\r\n      var ambientLight = new THREE.AmbientLight(0xffffff);\r\n      ambientLight.intensity = 1;\r\n      scene.add(ambientLight);\r\n      // 相机位置设置\r\n      camera.position.set(0, 0, 8);\r\n      //   camera.lookAt( 0, 0, 0 );\r\n      //   const line = this.threeLine();\r\n      //   scene.add(line);\r\n      //   camera.position.z = 5;\r\n      console.log(sphere, \"sphere-----11\")\r\n      // 游戏循环\r\n      renderer.setAnimationLoop(animation);\r\n      function animation() {\r\n        // 正方体\r\n        cube.rotation.x += 0.01;\r\n        cube.rotation.y += 0.01;\r\n        // 球体\r\n        sphere.rotation.x += 0.01;\r\n        sphere.rotation.y += 0.01;\r\n        if(shDegree<360){\r\n          shDegree++;\r\n        } else {\r\n          shDegree = 0;\r\n        }\r\n        // 多个球体\r\n        sphereArr.forEach(item=>{\r\n          let deg = item.degree + shDegree;\r\n          let {x, y} = that.circleTrack(deg, that.circleR);\r\n          item.position.x = x;\r\n          item.position.y = y;\r\n        })\r\n        renderer.render(scene, camera);\r\n        // 性能更新\r\n        that.statsObj.update();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#info {\r\n  position: absolute;\r\n  top: 10px;\r\n  width: 100%;\r\n  text-align: center;\r\n  z-index: 100;\r\n  display: block;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeAPI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeAPI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreeAPI.vue?vue&type=template&id=d2cd067c&scoped=true&\"\nimport script from \"./ThreeAPI.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreeAPI.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThreeAPI.vue?vue&type=style&index=0&id=d2cd067c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2cd067c\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","// tween.js 17.3.5 - https://github.com/tweenjs/tween.js\nvar _Group=function(){this._tweens={},this._tweensAddedDuringUpdate={}};_Group.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,n){var e=Object.keys(this._tweens);if(0===e.length)return!1;for(t=void 0!==t?t:TWEEN.now();0<e.length;){this._tweensAddedDuringUpdate={};for(var i=0;i<e.length;i++){var r=this._tweens[e[i]];r&&!1===r.update(t)&&(r._isPlaying=!1,n||delete this._tweens[e[i]])}e=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var TWEEN=new _Group;TWEEN.Group=_Group,TWEEN._nextId=0,TWEEN.nextId=function(){return TWEEN._nextId++},\"undefined\"==typeof self&&\"undefined\"!=typeof process&&process.hrtime?TWEEN.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:\"undefined\"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?TWEEN.now=self.performance.now.bind(self.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(t,n){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=TWEEN.Easing.Linear.None,this._interpolationFunction=TWEEN.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=n||TWEEN,this._id=TWEEN.nextId()},TWEEN.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,n){return this._valuesEnd=Object.create(t),void 0!==n&&(this._duration=n),this},duration:function(t){return this._duration=t,this},start:function(t){for(var n in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?\"string\"==typeof t?TWEEN.now()+parseFloat(t):t:TWEEN.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[n]instanceof Array){if(0===this._valuesEnd[n].length)continue;this._valuesEnd[n]=[this._object[n]].concat(this._valuesEnd[n])}void 0!==this._object[n]&&(this._valuesStart[n]=this._object[n],this._valuesStart[n]instanceof Array==!1&&(this._valuesStart[n]*=1),this._valuesStartRepeat[n]=this._valuesStart[n]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var n,e,i;if(t<this._startTime)return!0;for(n in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),e=(t-this._startTime)/this._duration,e=0===this._duration||1<e?1:e,i=this._easingFunction(e),this._valuesEnd)if(void 0!==this._valuesStart[n]){var r=this._valuesStart[n]||0,a=this._valuesEnd[n];a instanceof Array?this._object[n]=this._interpolationFunction(a,i):(\"string\"==typeof a&&(a=\"+\"===a.charAt(0)||\"-\"===a.charAt(0)?r+parseFloat(a):parseFloat(a)),\"number\"==typeof a&&(this._object[n]=r+(a-r)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1!==e)return!0;if(0<this._repeat){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if(\"string\"==typeof this._valuesEnd[n]&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo){var s=this._valuesStartRepeat[n];this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=s}this._valuesStart[n]=this._valuesStartRepeat[n]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,u=this._chainedTweens.length;o<u;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((1+n)*t-n)*.5:.5*((t-=2)*t*((1+n)*t+n)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,n){var e=t.length-1,i=e*n,r=Math.floor(i),a=TWEEN.Interpolation.Utils.Linear;return n<0?a(t[0],t[1],i):1<n?a(t[e],t[e-1],e-i):a(t[r],t[e<r+1?e:r+1],i-r)},Bezier:function(t,n){for(var e=0,i=t.length-1,r=Math.pow,a=TWEEN.Interpolation.Utils.Bernstein,s=0;s<=i;s++)e+=r(1-n,i-s)*r(n,s)*t[s]*a(i,s);return e},CatmullRom:function(t,n){var e=t.length-1,i=e*n,r=Math.floor(i),a=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[e]?(n<0&&(r=Math.floor(i=e*(1+n))),a(t[(r-1+e)%e],t[r],t[(r+1)%e],t[(r+2)%e],i-r)):n<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):1<n?t[e]-(a(t[e],t[e],t[e-1],t[e-1],i-e)-t[e]):a(t[r?r-1:0],t[r],t[e<r+1?e:r+1],t[e<r+2?e:r+2],i-r)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=TWEEN.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var i=[1];return function(t){var n=1;if(i[t])return i[t];for(var e=t;1<e;e--)n*=e;return i[t]=n}}(),CatmullRom:function(t,n,e,i,r){var a=.5*(e-t),s=.5*(i-n),o=r*r;return(2*n-2*e+a+s)*(r*o)+(-3*n+3*e-2*a-s)*o+a*r+n}}},function(t){\"function\"==typeof define&&define.amd?define([],function(){return TWEEN}):\"undefined\"!=typeof module&&\"object\"==typeof exports?module.exports=TWEEN:void 0!==t&&(t.TWEEN=TWEEN)}(this);\nexport {TWEEN};\n"],"sourceRoot":""}